"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[569],{6569:function(n,e,t){t.r(e),t.d(e,{default:function(){return on}});var r,a,o,i,s,c,u,l,d,m,p,h=t(5048),f=t(6351),b=t(5861),x=t(9439),v=t(4687),Z=t.n(v),y=t(5578),g=t(5299),k=t(5264),j=t(5705),w=t(6727),N=t(1889),C=t(1614),P=t(168),M=t(6934),q=t(4518),z=t(971),T=(0,M.ZP)(z.n)(r||(r=(0,P.Z)(["\n  /* & label.Mui-focused {\n    color: black;\n  } \n\n  & .MuiOutlinedInput-root {\n    &.Mui-focused fieldset {\n      border-color: skyblue;\n    }\n  } */\n"]))),A=(0,M.ZP)(q.Z)(a||(a=(0,P.Z)(["\n    background-color: skyblue;\n\n    &:hover, &:focus{\n        background-color: black;\n    }\n"]))),S=function(n,e){var t=n.toLowerCase();return e.find((function(n){return n.name.toLowerCase()===t}))},W=t(3329),_={name:"",number:""},L=w.Ry().shape({name:w.Z_().min(2,"Too Short! Min 2 symbols").max(20,"Too Long! Max 20 symbols").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces").required(),number:w.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),I=function(){var n=(0,y.sC)(),e=(0,x.Z)(n,1)[0],t=(0,y.wY)().data,r=function(){var n=(0,b.Z)(Z().mark((function n(r,a){var o,i,s,c,u,l,d;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.name,i=r.number,s=a.resetForm,!S((c={name:o,number:i}).name,t)){n.next=6;break}return g.Report.warning("Sorry","Not a unique contact - write a new one!","Okay"),n.abrupt("return");case 6:return n.prev=6,n.next=9,e(c);case 9:if(null===(d=n.sent)||void 0===d||!d.data){n.next=14;break}return k.Notify.success("The contact has been sent to storage",{position:"center-top"}),s(),n.abrupt("return");case 14:400===(null===d||void 0===d||null===(u=d.error)||void 0===u?void 0:u.status)&&k.Notify.failure("Error creating contact",{position:"center-top"}),401===(null===d||void 0===d||null===(l=d.error)||void 0===l?void 0:l.status)&&k.Notify.failure("Missing header with authorization token",{position:"center-top"}),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(6),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[6,18]])})));return function(e,t){return n.apply(this,arguments)}}();return(0,W.jsx)(C.Z,{component:"main",maxWidth:"xs",children:(0,W.jsx)(j.J9,{initialValues:_,validationSchema:L,onSubmit:r,children:function(n){var e=n.isValid,t=n.dirty;return(0,W.jsxs)(j.l0,{autoComplete:"off",children:[(0,W.jsxs)(N.ZP,{container:!0,spacing:2,sx:{mt:3},children:[(0,W.jsx)(N.ZP,{item:!0,xs:12,children:(0,W.jsx)(j.gN,{component:T,name:"name",type:"text",fullWidth:!0,title:"min 2 symbols",label:"Name",required:!0})}),(0,W.jsx)(N.ZP,{item:!0,xs:12,children:(0,W.jsx)(j.gN,{component:T,name:"number",type:"text",fullWidth:!0,title:"must be digits and can contain spaces...",label:"Phone number",required:!0})})]}),(0,W.jsx)(A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:!(e&&t),children:"Create"})]})}})})},O=t(1538),R=(0,M.ZP)(z.n)(o||(o=(0,P.Z)(["\n  /* & label.Mui-focused {\n    color: black;\n  } \n\n  & .MuiOutlinedInput-root {\n    &.Mui-focused fieldset {\n      border-color: skyblue;\n    }\n  } */\n"]))),F=(0,M.ZP)(q.Z)(i||(i=(0,P.Z)(["\n    background-color: skyblue;\n\n    &:hover, &:focus{\n        background-color: black;\n    }\n"]))),V=w.Ry().shape({name:w.Z_().min(2,"Too Short! Min 2 symbols").max(20,"Too Long! Max 20 symbols").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces").required(),number:w.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required()}),Y=function(){var n=(0,y.a6)(),e=(0,x.Z)(n,1)[0],t=(0,y.wY)().data,r=(0,h.v9)(f.fq),a=r.id,o=r.name,i=r.number,s=(0,h.I0)(),c=function(){var n=(0,b.Z)(Z().mark((function n(r,o){var i,c,u,l,d,m,p;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.name,c=r.number,u=o.resetForm,!S((l={id:a,name:i,number:c}).name,t)){n.next=6;break}return g.Report.warning("Attention","Not a unique contact - write a new name!","Okay"),n.abrupt("return");case 6:return n.prev=6,n.next=9,e(l);case 9:if(null===(p=n.sent)||void 0===p||!p.data){n.next=15;break}return k.Notify.success("The contact has been change in storage",{position:"center-top"}),s((0,O.Nt)()),u(),n.abrupt("return");case 15:400===(null===p||void 0===p||null===(d=p.error)||void 0===d?void 0:d.status)&&k.Notify.failure("Contact update failed",{position:"center-top"}),401===(null===p||void 0===p||null===(m=p.error)||void 0===m?void 0:m.status)&&k.Notify.failure("Missing header with authorization token",{position:"center-top"}),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(6),console.log(n.t0);case 22:case"end":return n.stop()}}),n,null,[[6,19]])})));return function(e,t){return n.apply(this,arguments)}}();return(0,W.jsx)(C.Z,{component:"main",maxWidth:"xs",children:(0,W.jsx)(j.J9,{initialValues:{name:o,number:i},validationSchema:V,onSubmit:c,children:function(n){var e=n.isValid,t=n.dirty;return(0,W.jsxs)(j.l0,{autoComplete:"off",children:[(0,W.jsxs)(N.ZP,{container:!0,spacing:2,sx:{mt:3},children:[(0,W.jsx)(N.ZP,{item:!0,xs:12,children:(0,W.jsx)(j.gN,{component:R,name:"name",type:"text",fullWidth:!0,title:"min 2 symbols",label:"Name",required:!0})}),(0,W.jsx)(N.ZP,{item:!0,xs:12,children:(0,W.jsx)(j.gN,{component:R,name:"number",type:"text",fullWidth:!0,title:"must be digits and can contain spaces...",label:"Phone number",required:!0})})]}),(0,W.jsx)(F,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:!(e&&t),children:"Change"})]})}})})},$=t(225),E=t(4741),J=$.Z.div(s||(s=(0,P.Z)(["\n    position: sticky;\n    display: inline-block;\n    top: 70px;\n    z-index: 2000;\n    margin-bottom: 10px;\n    border-radius: 5px;\n    background-color: white;\n"]))),Q=(0,M.ZP)(E.Z)(c||(c=(0,P.Z)(["\n  & label.Mui-focused {\n    color: black;\n  } \n\n  & .MuiOutlinedInput-root {\n    &.Mui-focused fieldset {\n      border-color: skyblue;\n    }\n  }\n"]))),D=function(){var n=(0,h.I0)();return(0,W.jsx)(J,{children:(0,W.jsx)(Q,{name:"find",type:"text",label:"Find contacts by name",autoComplete:"off",onChange:function(e){var t=e.currentTarget;n((0,O.Tv)(t.value))}})})},B=t(2199),G=t(7247),H=t(1286),K=t(4022),U=$.Z.li(u||(u=(0,P.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 0;\n    padding: 0;    \n"]))),X=$.Z.div(l||(l=(0,P.Z)(["\n    display: flex;\n    align-items: center;\n"]))),nn=(0,M.ZP)(K.Z)(d||(d=(0,P.Z)(["\n    margin-right: 5px;\n"]))),en=(0,M.ZP)(q.Z)(m||(m=(0,P.Z)(["\n    padding: 6px 6px;\n    background-color: skyblue;\n\n    &:hover, &:focus{\n        background-color: black;\n    }\n"]))),tn=function(n){var e=n.contact,t=e.id,r=e.name,a=e.number,o=(0,y.Qr)(),i=(0,x.Z)(o,1)[0],s=(0,h.I0)(),c=function(){var n=(0,b.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i(t);case 3:k.Notify.success("The contact has been remove from storage",{position:"center-top"}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=(0,b.Z)(Z().mark((function n(){return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s((0,O.$Z)(e));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,W.jsxs)(U,{children:[(0,W.jsxs)(X,{children:[(0,W.jsx)(nn,{}),r,": ",a]}),(0,W.jsxs)(B.Z,{variant:"contained","aria-label":"outlined primary button group",children:[(0,W.jsx)(en,{onClick:c,children:(0,W.jsx)(G.Z,{})}),(0,W.jsx)(en,{onClick:u,children:(0,W.jsx)(H.Z,{})})]})]})},rn=$.Z.ul(p||(p=(0,P.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n"]))),an=function(){var n=(0,y.wY)(),e=n.data,t=n.isLoading,r=n.error,a=n.isSuccess,o=(0,h.v9)(f.AD);if(t&&!r)return(0,W.jsx)("b",{children:"Request in progress..."});if(r)return k.Notify.failure(r,{position:"center-top"}),(0,W.jsx)(W.Fragment,{children:!t&&(0,W.jsx)("b",{children:"Error"})});if(a){var i=o.toLowerCase(),s=e.filter((function(n){return n.name.toLowerCase().includes(i)})).sort((function(n,e){return n.name.localeCompare(e.name)}));return(0,W.jsxs)("div",{children:[(0,W.jsx)(D,{}),(0,W.jsx)(rn,{children:0!==s.length&&s.map((function(n){return(0,W.jsx)(tn,{contact:n},n.id)}))})]})}},on=function(){var n=(0,h.v9)(f.QY);return(0,W.jsxs)("div",{children:[(0,W.jsx)(I,{}),n&&(0,W.jsx)(Y,{}),(0,W.jsx)(an,{})]})}}}]);
//# sourceMappingURL=569.a700f34f.chunk.js.map