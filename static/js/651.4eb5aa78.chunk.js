"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[651],{4651:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(5048),a=t(6351),i=t(5861),c=t(9439),s=t(4687),o=t.n(s),u=t(5299),l=t(5264),m=t(5578),x=t(6151),f=t(4708),h=t(6459),d=t(1889),p=t(4554),j=t(1614),v=t(7107),b=t(7012),Z=t(3329),g=(0,v.Z)(),w=function(){var e=(0,m.sC)(),n=(0,c.Z)(e,1)[0],t=(0,m.wY)().data,r=function(){var e=(0,i.Z)(o().mark((function e(r){var a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=new FormData(r.currentTarget),i={name:a.get("name"),number:a.get("number")},y(i.name,t)){e.next=16;break}return e.prev=4,e.next=7,n(i);case 7:l.Notify.success("The contact has been sent to storage",{position:"center-top"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:r.target.reset(),e.next=17;break;case 16:u.Report.warning("Sorry","Not a unique contact - write a new one!","Okay");case 17:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(b.Z,{theme:g,children:(0,Z.jsxs)(j.Z,{component:"main",maxWidth:"xs",children:[(0,Z.jsx)(f.ZP,{}),(0,Z.jsx)(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,Z.jsxs)(p.Z,{component:"form",onSubmit:r,sx:{mt:3},children:[(0,Z.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.Z,{name:"name",type:"text",required:!0,fullWidth:!0,label:"User Name",autoComplete:"off"})}),(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.Z,{required:!0,fullWidth:!0,label:"Phone number",name:"number",type:"text",autoComplete:"off"})})]}),(0,Z.jsx)(x.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Create"})]})})]})})},y=function(e,n){var t=e.toLowerCase();return n.find((function(e){return e.name.toLowerCase()===t}))},k=t(1538),C=(0,v.Z)(),P=function(){var e=(0,m.a6)(),n=(0,c.Z)(e,1)[0],t=(0,r.v9)(a.fq),s=t.id,u=t.name,v=t.number,g=(0,r.I0)(),w=function(){var e=(0,i.Z)(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=new FormData(t.currentTarget),a={id:s,name:r.get("name"),number:r.get("number")},t.target.reset(),e.prev=4,u===a.name&&v===a.number){e.next=9;break}return e.next=8,n(a);case 8:l.Notify.success("The contact has been change in storage",{position:"center-top"});case 9:g((0,k.Nt)()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(b.Z,{theme:C,children:(0,Z.jsxs)(j.Z,{component:"main",maxWidth:"xs",children:[(0,Z.jsx)(f.ZP,{}),(0,Z.jsx)(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,Z.jsxs)(p.Z,{component:"form",onSubmit:w,sx:{mt:3},children:[(0,Z.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.Z,{name:"name",type:"text",defaultValue:u,required:!0,fullWidth:!0,label:"User Name",autoComplete:"off"})}),(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsx)(h.Z,{required:!0,fullWidth:!0,label:"Phone number",name:"number",type:"text",defaultValue:v,autoComplete:"off"})})]}),(0,Z.jsx)(x.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Change"})]})})]})})},T=function(){var e=(0,r.I0)();return(0,Z.jsx)(p.Z,{component:"div",sx:{position:"sticky",top:"70px"},children:(0,Z.jsx)(h.Z,{name:"find",type:"text",label:"Find contacts by name",autoComplete:"off",onChange:function(n){var t=n.currentTarget;e((0,k.Tv)(t.value))}})})},N=function(e){var n=e.contact,t=n.id,a=n.name,s=n.number,u=(0,m.Qr)(),x=(0,c.Z)(u,1)[0],f=(0,r.I0)(),h=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t);case 3:l.Notify.success("The contact has been remove from storage",{position:"center-top"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((0,k.$Z)(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)("li",{children:[a,": ",s,(0,Z.jsx)("button",{type:"button",onClick:h,children:"Remove"}),(0,Z.jsx)("button",{type:"button",onClick:d,children:"Change"})]})},W=function(){var e=(0,m.wY)(),n=e.data,t=e.isLoading,i=e.error,c=e.isSuccess,s=(0,r.v9)(a.AD);if(t&&!i)return(0,Z.jsx)("b",{children:"Request in progress..."});if(i)return l.Notify.failure(i,{position:"center-top"}),(0,Z.jsx)(Z.Fragment,{children:!t&&(0,Z.jsx)("b",{children:"Error"})});if(c){var o=s.toLowerCase(),u=n.filter((function(e){return e.name.toLowerCase().includes(o)}));return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(T,{}),(0,Z.jsx)("ul",{children:0!==u.length&&u.map((function(e){return(0,Z.jsx)(N,{contact:e},e.id)}))})]})}},q=function(e){var n=e.title,t=e.children;return(0,Z.jsxs)("section",{children:[(0,Z.jsx)("h2",{children:n}),t]})},D=function(){var e=(0,r.v9)(a.QY);return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(q,{title:"Add contact",children:(0,Z.jsx)(w,{})}),e&&(0,Z.jsx)(q,{title:"Change contact",children:(0,Z.jsx)(P,{})}),(0,Z.jsx)(q,{title:"Contacts",children:(0,Z.jsx)(W,{})})]})}}}]);
//# sourceMappingURL=651.4eb5aa78.chunk.js.map